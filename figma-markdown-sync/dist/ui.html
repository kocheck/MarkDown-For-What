<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>MarkDown For What</title></head><body><h2>MarkDown For What</h2><script>console.log('Inline script check: UI HTML loaded');</script><div id="drop-zone" class="drop-zone"><p><strong>Drag & Drop Markdown Files</strong></p><p style="font-size: 11px; color: #999;">or Click to Browse</p><input type="file" id="file-input" accept=".md,.markdown,.txt" multiple="multiple"></div><div class="help-text"><p><strong>Batch Import:</strong> Files must match text layer names exactly (e.g., "About.md" updates layer "About").</p></div><div id="preview-area" class="preview-area"><strong>Preview:</strong><pre id="file-content" style="white-space: pre-wrap; font-family: monospace;"></pre></div><button id="import-btn" disabled="disabled">Import to Selected Layers</button><div id="status-message" class="status-message"></div><div id="loader" class="loader-overlay"><div class="loader-content"><div class="spinner"></div><p>Importing...<br>Please do not close this window.</p></div></div><script>(()=>{"use strict";var n={56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},60:function(n,e,t){var r=this&&this.__awaiter||function(n,e,t,r){return new(t||(t=Promise))(function(o,i){function a(n){try{c(r.next(n))}catch(n){i(n)}}function s(n){try{c(r.throw(n))}catch(n){i(n)}}function c(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t(function(n){n(e)})).then(a,s)}c((r=r.apply(n,e||[])).next())})},o=this&&this.__generator||function(n,e){var t,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(t=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(n,i)}catch(n){s=[6,n],r=0}finally{t=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(e,"__esModule",{value:!0}),t(788),console.log("UI script starting...");var i=document.getElementById("drop-zone"),a=document.getElementById("file-input"),s=document.getElementById("browse-btn"),c=document.getElementById("preview-area"),l=document.getElementById("file-content"),d=document.getElementById("import-btn"),u=document.getElementById("status-message"),p=document.getElementById("loader");i||console.error("Error: drop-zone not found"),a||console.error("Error: file-input not found"),s||console.error("Error: browse-btn not found"),d||console.error("Error: import-btn not found"),p||console.error("Error: loader not found"),console.log("UI Elements initialized",{dropZone:i,fileInput:a,browseBtn:s});var f=[];function g(n){return new Promise(function(e,t){if(n.name.endsWith(".md")||n.name.endsWith(".markdown")||n.name.endsWith(".txt")){var r=new FileReader;r.onload=function(t){var r;e({name:n.name,content:null===(r=t.target)||void 0===r?void 0:r.result})},r.onerror=function(){return t(new Error("Failed to read ".concat(n.name)))},r.readAsText(n)}else e({name:n.name,content:""})})}function v(n){return r(this,void 0,void 0,function(){var e,t,r,i,a,s;return o(this,function(o){switch(o.label){case 0:f=[],m("Reading files...","success"),d&&(d.disabled=!0),o.label=1;case 1:for(o.trys.push([1,3,,4]),e=[],t=0;t<n.length;t++)e.push(g(n[t]));return[4,Promise.all(e)];case 2:return r=o.sent(),0===(f=r.filter(function(n){return""!==n.content})).length?(m("No valid markdown files found.","error"),c&&c.classList.remove("visible"),[2]):(l&&(1===f.length?(i=f[0].content,l.textContent=i.substring(0,500)+(i.length>500?"...":"")):(a=f.map(function(n){var e=n.content.substring(0,50).replace(/\n/g," ")+(n.content.length>50?"...":"");return"â€¢ ".concat(n.name,' \n  "').concat(e,'"')}).join("\n\n"),l.textContent="Selected ".concat(f.length," files:\n\n")+a)),c&&c.classList.add("visible"),d&&(d.disabled=!1,d.innerText=f.length>1?"Import ".concat(f.length," Files"):"Import to Selected Layer(s)"),m("Ready to import ".concat(f.length," file").concat(1===f.length?"":"s"),"success"),[3,4]);case 3:return s=o.sent(),console.error(s),m("Error reading files","error"),[3,4];case 4:return[2]}})})}function m(n,e){void 0===e&&(e="success"),u&&(u.textContent=n,u.className="status-message ".concat(e))}i&&(i.addEventListener("dragover",function(n){n.preventDefault(),i.classList.add("drag-over")}),i.addEventListener("dragleave",function(){i.classList.remove("drag-over")}),i.addEventListener("drop",function(n){var e;n.preventDefault(),i.classList.remove("drag-over"),console.log("File dropped"),(null===(e=n.dataTransfer)||void 0===e?void 0:e.files.length)&&v(n.dataTransfer.files)}),i.addEventListener("click",function(n){n.target!==s&&(console.log("Dropzone clicked (background)"),null==a||a.click())})),s?s.addEventListener("click",function(n){n.stopPropagation(),n.preventDefault(),console.log("Browse button clicked"),a?(console.log("Triggering file input click"),a.click()):console.error("File input missing when browse clicked")}):console.warn("Browse button listener NOT attached (element missing)"),null==a||a.addEventListener("change",function(n){var e,t,r=n.target;console.log("File input changed",null===(e=r.files)||void 0===e?void 0:e.length),(null===(t=r.files)||void 0===t?void 0:t.length)&&v(r.files)}),null==d||d.addEventListener("click",function(){0!==f.length&&(p&&p.classList.add("visible"),d&&(d.disabled=!0),parent.postMessage({pluginMessage:{type:"import-markdown-batch",files:f}},"*"))}),window.onmessage=function(n){var e=n.data.pluginMessage;p&&p.classList.remove("visible"),d&&(d.disabled=!1),"status"===e.type&&m(e.message,e.error?"error":"success")}},72:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var i={},a=[],s=0;s<n.length;s++){var c=n[s],l=r.base?c[0]+r.base:c[0],d=i[l]||0,u="".concat(l," ").concat(d);i[l]=d+1;var p=t(u),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(f);else{var g=o(f,r);r.byIndex=s,e.splice(s,0,{identifier:u,updater:g,references:1})}a.push(u)}return a}function o(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var i=r(n=n||[],o=o||{});return function(n){n=n||[];for(var a=0;a<i.length;a++){var s=t(i[a]);e[s].references--}for(var c=r(n,o),l=0;l<i.length;l++){var d=t(i[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}i=c}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t}).join("")},e.i=function(n,t,r,o,i){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<n.length;l++){var d=[].concat(n[l]);r&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),e.push(d))}},e}},365:(n,e,t)=>{t.d(e,{A:()=>s});var r=t(601),o=t.n(r),i=t(314),a=t.n(i)()(o());a.push([n.id,"body {\n    font-family: 'Inter', sans-serif;\n    padding: 20px;\n    margin: 0;\n    color: #333;\n}\n\nh2 {\n    font-size: 16px;\n    margin-bottom: 20px;\n}\n\n.drop-zone {\n    border: 2px dashed #ccc;\n    border-radius: 8px;\n    padding: 40px 20px;\n    text-align: center;\n    cursor: pointer;\n    transition: border-color 0.2s, background-color 0.2s;\n    margin-bottom: 20px;\n    position: relative; /* For positioning context */\n}\n\n.drop-zone:hover, .drop-zone.drag-over {\n    border-color: #18A0FB;\n    background-color: #F0F9FF;\n}\n\n.drop-zone p {\n    margin: 0 0 10px 0;\n    color: #888;\n    pointer-events: none; /* Let clicks pass through */\n}\n\n/* Updated Browse Button Style */\n#browse-btn {\n    background-color: white;\n    border: 1px solid #ccc;\n    padding: 6px 12px;\n    border-radius: 4px;\n    cursor: pointer;\n    font-size: 12px;\n    pointer-events: auto; /* Ensure clickable */\n}\n\n#browse-btn:hover {\n    background-color: #f5f5f5;\n    border-color: #bbb;\n}\n\n/* Robustly hide the file input, but keep it in the DOM tree */\n#file-input {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    border: 0;\n}\n\n.preview-area {\n    margin-bottom: 20px;\n    display: none;\n}\n\n.preview-area.visible {\n    display: block;\n}\n\n.preview-area strong {\n    display: block;\n    margin-bottom: 8px;\n    font-size: 12px;\n}\n\n#file-content {\n    background: #f5f5f5;\n    padding: 10px;\n    border-radius: 4px;\n    font-size: 11px;\n    overflow-x: auto;\n    max-height: 150px;\n    margin: 0;\n}\n\n/* Loader Overlay */\n.loader-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(255, 255, 255, 0.9);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 100;\n    opacity: 0;\n    pointer-events: none;\n    transition: opacity 0.2s;\n    text-align: center;\n}\n\n.loader-overlay.visible {\n    opacity: 1;\n    pointer-events: auto;\n}\n\n.loader-content p {\n    margin-top: 15px;\n    font-size: 13px;\n    color: #555;\n    line-height: 1.4;\n}\n\n.spinner {\n    width: 24px;\n    height: 24px;\n    border: 3px solid #ccc;\n    border-top-color: #18A0FB;\n    border-radius: 50%;\n    animation: spin 0.8s linear infinite;\n    margin: 0 auto;\n}\n\n@keyframes spin {\n    to { transform: rotate(360deg); }\n}\n\n.help-text {\n    font-size: 11px;\n    color: #666;\n    background: #f0f0f0;\n    padding: 8px;\n    border-radius: 4px;\n    margin-bottom: 20px;\n    line-height: 1.4;\n}\n\n.help-text p {\n    margin: 0;\n}\n\n#import-btn {\n    width: 100%;\n    padding: 10px;\n    background-color: #18A0FB;\n    color: white;\n    border: none;\n    border-radius: 6px;\n    cursor: pointer;\n    font-weight: 500;\n}\n\n#import-btn:disabled {\n    background-color: #ccc;\n    cursor: not-allowed;\n}\n\n.status-message {\n    margin-top: 10px;\n    font-size: 12px;\n    min-height: 18px;\n}\n\n.status-message.success {\n    color: #198754;\n}\n\n.status-message.error {\n    color: #dc3545;\n}\n",""]);const s=a},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},601:n=>{n.exports=function(n){return n[1]}},659:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},788:(n,e,t)=>{t.r(e),t.d(e,{default:()=>b});var r=t(72),o=t.n(r),i=t(825),a=t.n(i),s=t(659),c=t.n(s),l=t(56),d=t.n(l),u=t(540),p=t.n(u),f=t(113),g=t.n(f),v=t(365),m={};m.styleTagTransform=g(),m.setAttributes=d(),m.insert=c().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=p(),o()(v.A,m);const b=v.A&&v.A.locals?v.A.locals:void 0},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}}},e={};function t(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.nc=void 0,t(60)})();</script></body></html>